// Generated by CoffeeScript 1.6.1
'use strict';
$(function() {
  var app, myScroll, onResize;
  myScroll = new iScroll('wrapper', {
    snap: true,
    momentum: false,
    hScrollbar: false,
    vScroll: false,
    vScrollbar: false,
    onScrollEnd: function() {
      $('#indicator > li.active').attr('class', '');
      return $("#indicator > li:nth-child(" + (this.currPageX + 1) + ")").addClass('active');
    }
  });
  onResize = function($el, clear) {
    var time;
    if (clear == null) {
      clear = false;
    }
    time = 300;
    return setTimeout(function() {
      myScroll.refresh();
      myScroll.scrollToPage((clear ? 0 : 1), 0, time);
      if (clear) {
        return setTimeout(function() {
          myScroll.disable();
          return $el.remove();
        }, time);
      } else {
        return myScroll.enable();
      }
    }, 0);
  };
  return app = new App(onResize);
});
